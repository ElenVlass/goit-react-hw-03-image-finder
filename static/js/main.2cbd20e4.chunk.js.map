{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.scss","components/Modal/Modal.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Button/Button.module.scss","components/Loader/Loader.module.scss","components/Searchbar/Searchbar.js","images/img-default.jpeg","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","services/pixabay-api.js","components/Loader/Loader.js","App.js","index.js","components/Searchbar/Searchbar.module.scss"],"names":["module","exports","Searchbar","state","initialValue","handleInputChange","event","setState","currentTarget","value","handleSubmitQuery","preventDefault","props","onSubmit","resetFormField","this","className","styles","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","defaultProps","ImageGalleryItem","src","alt","onClick","ImageGalleryItem_image","defaultImg","ImageGallery","images","onImageClick","map","id","webformatURL","tags","largeImageURL","Button","modalRoot","document","getElementById","Modal","onKeyDown","evt","code","closeModal","onOverlayClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","axios","defaults","baseURL","getImages","searchQuery","currentPage","perPage","get","then","responce","data","hits","LoaderSpiner","spiner","color","secondaryColor","width","height","App","loading","error","isModalOpen","largeImage","onChangeQuery","query","articles","fetchImages","a","options","prevState","length","message","toggleModal","showModal","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","isLoadMoreVisible","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.2cbd20e4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3iRwM\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__16yeM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__21j6m\",\"Modal\":\"Modal_Modal__32mLz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2s6Dc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2BYYQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spiner\":\"Loader_spiner__1OCti\"};","import { Component } from \"react\";\nimport styles from \"./Searchbar.module.scss\";\nimport PropTypes from \"prop-types\";\n\nexport default class Searchbar extends Component {\n  static defaultProps = {\n    onSubmit: () => null,\n  }\n  static propTypes = {\n    onSubmit: PropTypes.func,\n  }\n\n  state = {\n    initialValue: \"\",\n  }\n\n  handleInputChange = (event) => {\n    this.setState({\n      initialValue: event.currentTarget.value\n    })\n  }\n\n  handleSubmitQuery =(event) => {\n    event.preventDefault();\n    this.props.onSubmit(this.state.initialValue);\n    this.resetFormField();\n  }\n\n  resetFormField() {\n    this.setState({\n      initialValue: \"\",\n    })\n  }\n  \n  render() {\n    const {initialValue} = this.state;\n    return (\n      <header className={styles.Searchbar}>\n        <form onSubmit={this.handleSubmitQuery} className={styles.SearchForm}>\n          <button type=\"submit\" className={styles.SearchForm_button}>\n            <span className={styles.SearchForm_button_label}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchForm_input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={initialValue}\n            onChange={this.handleInputChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","export default __webpack_public_path__ + \"static/media/img-default.6cf65d7c.jpeg\";","import { Component } from \"react\";\nimport styles from \"./ImageGalleryItem.module.scss\";\nimport defaultImg from '../../images/img-default.jpeg';\nimport PropTypes from 'prop-types';\n\n\nexport default class ImageGalleryItem extends Component {\n  static defaultProps = {\n    src: defaultImg,\n    alt: \"picture\"\n  }\n\n  static propTypes = {\n    src: PropTypes.string,\n    alt: PropTypes.string,\n    onClick: PropTypes.func,\n  }\n  \n  render() {\n    const {src, alt, onClick} = this.props;\n    return (\n      <li className={styles.ImageGalleryItem}>\n        <img className={styles.ImageGalleryItem_image} \n        src={src} \n        alt={alt}\n        onClick={onClick} />\n      </li>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport styles from \"./ImageGallery.module.scss\";\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport PropTypes from 'prop-types';\n\nexport default class ImageGallery extends Component {\n  static propTypes = {\n    images: PropTypes.array.isRequired,\n    onImageClick: PropTypes.func.isRequired\n  }\n\n  render() {\n    const {images, onImageClick} = this.props;\n    return (\n      <ul className={styles.ImageGallery}>\n        {images.map(({id, webformatURL, tags, largeImageURL}) =>\n        (<ImageGalleryItem key={id} \n        src={webformatURL} \n        alt={tags}\n        onClick={() => onImageClick(largeImageURL, tags)}/>)\n        )}\n      </ul>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport styles from \"./Button.module.scss\";\nimport PropTypes from 'prop-types';\n\nexport default class Button extends Component {\n  static defaultProps = {\n    onClick: () => null\n  }\n  static propTypes = {\n    onClick: PropTypes.func,\n  }\n  render() {\n    return (\n      <button type=\"button\" onClick={this.props.onClick} className={styles.Button}>\n        Load more\n      </button>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport {createPortal} from 'react-dom';\nimport styles from \"./Modal.module.scss\";\nimport defaultImg from '../../images/img-default.jpeg';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.getElementById('modal-root')\n\nexport default class Modal extends Component {\n  static defaultProps = {\n    src: defaultImg,\n    alt: \"picture\"\n  }\n\n  static propTypes = {\n    src: PropTypes.string,\n    alt: PropTypes.string\n  }\n  componentDidMount() {\n    window.addEventListener('keydown', this.onKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.onKeyDown);\n  }\n\n  onKeyDown = (evt) => \n    {if (evt.code === 'Escape') {\n      this.props.closeModal();\n    }\n  }\n  onOverlayClick = (evt) => {\n    if(evt.currentTarget === evt.target) {\n      this.props.closeModal();\n    }\n  }\n\n  render() {\n    const {src, alt} = this.props;\n    return createPortal(\n      <div className={styles.Overlay} onClick={this.onOverlayClick}>\n        <div className={styles.Modal}>\n          <img src={src} alt={alt}/>\n        </div>\n      </div>, \n    modalRoot);\n  }\n}\n","import axios from \"axios\";\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\nconst MY_KEY = \"21246510-8cf114b80fb53559900540c62\";\n\n\nexport const getImages = ({searchQuery = \"\", currentPage = 1, perPage = 12}) => \n    axios.get(`?q=${searchQuery}&page=${currentPage}&key=${MY_KEY}&image_type=photo&orientation=horizontal&per_page=${perPage}`)\n    .then(responce => responce.data.hits)\n\n\n\n","import { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport styles from './Loader.module.scss'\n\nexport default class LoaderSpiner extends Component {\n  render() {\n    return (\n      <div className={styles.spiner}>\n      <Loader\n       color=\"#FFA500\"\n       secondaryColor=\"#FFA500\"\n       width={100}\n       height={100}\n       type=\"MutatingDots\"\n      />\n    </div>);\n  }\n}\n","import { Component } from \"react\";\nimport \"./styles/base.scss\";\n\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport Modal from './components/Modal'; \nimport {getImages} from \"./services/pixabay-api\";\nimport LoaderSpiner from \"./components/Loader\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    searchQuery: \"\",\n    currentPage: 1,\n    loading: false,\n    error: null,\n    isModalOpen: false,\n    largeImage: {\n      src: \"\",\n      alt: \"\"\n    }\n  }\n  \n  async componentDidMount(){ \n    this.fetchImages()\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  componentDidCatch() {\n    this.setState({ error: \"Something went wrong..\" });\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      articles: [],\n      error: null,\n    });\n  };\n\n  fetchImages = async () => {\n    this.setState({loading: true});\n\n    const { searchQuery, currentPage } = this.state;\n    const options = { searchQuery, currentPage };\n\n    try {\n    const images = await getImages(options)\n    this.setState(prevState => ({\n      images: [...prevState.images, ...images],\n      currentPage: prevState.currentPage +1\n    }))\n    if(images.length === 0) {\n      this.setState({error: 'No more images'})\n    }\n    } catch (error) {\n      this.setState({ error: error.message }) \n    }\n    finally{this.setState({loading: false})}\n  };\n\n  toggleModal =() => {\n    this.setState(({isModalOpen, loading}) => ({\n      isModalOpen: !isModalOpen,\n      loading: !loading,\n    }))\n  }\n\n  showModal = (largeImageURL, tags) => {\n    this.setState({  \n      largeImage: {\n        src: largeImageURL,\n        alt: tags}\n    })\n    this.toggleModal()\n  }\n\n  render() {\n    const {images, loading, isModalOpen, largeImage} = this.state;\n    const isLoadMoreVisible = images.length !== 0 && !loading;\n\n    return (\n      <div className=\"App\">\n        {isModalOpen && <Modal \n          src={largeImage.src}\n          alt={largeImage.alt}\n          closeModal={this.toggleModal}\n        />}\n\n        <Searchbar onSubmit={this.onChangeQuery} />\n\n        <ImageGallery images={images} onImageClick={this.showModal}/>\n\n        {loading && <LoaderSpiner />}\n        \n        {isLoadMoreVisible && <Button \n        onClick={this.fetchImages}/>}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"modern-normalize/modern-normalize.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2Ep_q\",\"SearchForm\":\"Searchbar_SearchForm__2I4mE\",\"SearchForm_button\":\"Searchbar_SearchForm_button__3YANn\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__5w37-\",\"SearchForm_input\":\"Searchbar_SearchForm_input__7oOGV\"};"],"sourceRoot":""}